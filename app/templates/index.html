<!-- templates/index.html -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Repo Index Generator</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"
			rel="stylesheet"
		/>
		<link
			rel="icon"
			type="image/png"
			href="{{ url_for('static', filename='/images/favicon.png') }}"
		/>
		<style>
			body {
				background-color: hsl(43, 17%, 84%); /* light turquoise */
				padding-top: 20px;
			}
			.header {
				padding-top: 20px;
				font-family: "Roboto", sans-serif;
				text-align: center;
			}
			.form-group {
				max-width: 65%;
				margin: auto;
			}
			.input-group {
				border-radius: 20px;
			}
			.input-group .form-control {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;
				width: 60%;
				height: 50px;
			}

			/* Specific styles for the branch dropdown */
			.branch-select {
				height: 50px;
				width: 70px; /* Shorter width */
				background-color: #d6d6d6; /* Different background color, choose as needed */
				border: 1px solid #ced4da; /* Consistent border with Bootstrap's style */
			}
			.input-group .input-group-append .btn {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
			}
			.btn-outline-secondary {
				color: black;
				background-color: rgb(240, 211, 49);
				border: 1px solid #ced4da;
			}
			#markdownOutput {
				width: 80%;
				height: 500px;
				margin: 0px auto;
				display: block;
			}
			#copyButton {
				position: absolute;
				background-color: rgb(11, 56, 95);
				color: white;
				top: 0px;
				right: 75px;
				width: 60px;
				height: 60px;
				border-radius: 50%;
				text-align: center;
				padding: 0;
				z-index: 10; /* Ensure it's above other elements */
			}

			#downloadButton {
				position: absolute;
				background-color: rgb(95, 11, 11);
				color: white;
				top: 80px;
				right: 75px;
				width: 60px;
				height: 60px;
				border-radius: 50%;
				text-align: center;
				padding: 0;
				z-index: 10; /* Ensure it's above other elements */
			}

			.markdown-preview {
				width: 80%;
				height: 500px;
				margin: 0px auto;
				display: block;

				border: 1px solid #ddd;
				padding: 0px;
				background-color: #fff;
				min-height: 100px; /* Or any other height */

				overflow-y: auto; /* Add vertical scrollbar if content is long */
				padding: 0.375rem 0.75rem; /* Bootstrap's default padding for textareas */
				margin-bottom: 1rem; /* Optional: To provide some space below the container */
				border: 1px solid #ced4da; /* Bootstrap's default border for textareas */
				border-radius: 0.25rem; /* Bootstrap's default border-radius for textareas */
				resize: none;
			}
			/* Ensure the nav-tabs fill the width */

			.nav-tabs {
				width: 79.7%;
				margin-left: 148px;
				text-align: center;
			}

			.nav-item {
				width: 50%; /* Each tab takes half the width */
			}

			.nav-tabs .nav-link {
				border: 1px solid #ddd;
				border-bottom: none; /* Remove border-bottom to blend with the content */
				margin-bottom: -1px; /* Pull the tab content up */
			}

			.tab-content {
				width: 100%;
				border: 1px solid #ddd;
			}

			.nav-tabs .nav-item .nav-link {
				border: none;
				background-color: rgb(181, 181, 181);
				color: white;
			}

			.nav-tabs .nav-item .nav-link.active {
				background-color: rgb(58, 131, 176);
				color: white;
			}

			.navbar {
				height: 40px;
			}

			hr {
				border: 0;
				height: 1px;
				background-image: linear-gradient(
					to right,
					rgba(0, 0, 0, 0),
					rgba(0, 0, 0, 0.75),
					rgba(0, 0, 0, 0)
				);
			}

			#faq-section {
				background-color: #fff; /* White background */
				padding: 2rem 0; /* Padding for top and bottom */
			}

			#accordion {
				max-width: 650px; /* Set a max-width for the accordion */
				margin: auto; /* Center the accordion in the page */
			}

			#accordion .card {
				border: none;
			}

			#accordion .card-header {
				background-color: #f8f9fa;
				border-bottom: none;
			}

			#accordion .card-body {
				text-align: left; /* Center the text inside the accordion body */
				border-left: 2px solid #007bff;
			}

			#faq-section h2 {
				margin-bottom: 0.5rem; /* Smaller bottom margin for the heading */
			}

			#faq-section hr {
				margin: 0 auto 2rem auto; /* Center the horizontal rule with automatic margins */
				width: 50%; /* Shorter width for the horizontal rule */
			}

			/* Additional styles to ensure that the page has no extra spacing */
			body,
			html {
				margin: 0;
				padding: 0;
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
			<a class="navbar-brand" href="#">Index Generator</a>
			<button
				class="navbar-toggler"
				type="button"
				data-toggle="collapse"
				data-target="#navbarNav"
				aria-controls="navbarNav"
				aria-expanded="false"
				aria-label="Toggle navigation"
			>
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse justify-content-end" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item active">
						<a class="nav-link" href="#about">About</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#faq-section">FAQs</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">CLI</a>
					</li>
				</ul>
			</div>
		</nav>

		<div class="header" style="padding-top: 90px">
			<h3><b>GitHub Repo Table of Contents Generator</b></h3>
		</div>

		<div class="form-group">
			<div class="input-group mb-3">
				<input
					type="text"
					id="repoUrl"
					class="form-control"
					placeholder="Enter GitHub Repository URL"
					aria-label="Repository URL"
				/>
				<select
					id="branchSelect"
					class="custom-select branch-select"
					aria-label="Select branch"
				>
					<option selected>Choose a branch...</option>
					<!-- Branch options will be dynamically populated here -->
				</select>
				<div class="input-group-append">
					<button
						class="btn btn-outline-secondary"
						type="button"
						id="button-addon2"
					>
						<i class="fas fa-arrow-right" id="arrow-icon"></i>
						<span
							class="spinner-border spinner-border-sm"
							role="status"
							aria-hidden="true"
							id="loading-spinner"
							style="display: none"
						></span>
					</button>
				</div>
			</div>
		</div>

		<div class="tabs-container">
			<ul class="nav nav-tabs" id="markdownTabs" role="tablist">
				<li class="nav-item">
					<a
						class="nav-link active"
						id="raw-tab"
						data-toggle="tab"
						href="#raw"
						role="tab"
						aria-controls="raw"
						aria-selected="true"
						>Raw Markdown</a
					>
				</li>
				<li class="nav-item">
					<a
						class="nav-link"
						id="preview-tab"
						data-toggle="tab"
						href="#preview"
						role="tab"
						aria-controls="preview"
						aria-selected="false"
						>Preview</a
					>
				</li>
			</ul>
		</div>
		<div class="position-relative">
			<div class="tab-content">
				<div
					class="tab-pane active"
					id="raw"
					role="tabpanel"
					aria-labelledby="raw-tab"
				>
					<textarea
						id="markdownOutput"
						class="form-control"
						rows="10"
						style="resize: none"
					></textarea>
				</div>
				<div
					class="tab-pane"
					id="preview"
					role="tabpanel"
					aria-labelledby="preview-tab"
				>
					<div id="markdownPreview" class="markdown-preview form-control"></div>
				</div>
			</div>
			<button
				class="btn btn-outline-secondary rounded-circle"
				id="copyButton"
				title="Copy to Clipboard"
			>
				<i class="fa fa-paperclip"></i>
			</button>
			<button
				class="btn btn-outline-secondary rounded-circle"
				id="downloadButton"
				title="Download as INDEX.MD"
			>
				<i class="fa fa-download"></i>
			</button>
		</div>
		<section id="about" class="container">
			<div class="container my-5">
				<div class="row">
					<div class="col-lg-8 mx-auto">
						<h2 class="text-center">About</h2>
						<hr class="my-4" />
						<p class="text-justify">
							This project is a web application and a CLI designed to generate a linked
							table of contents or directory tree structure for GitHub
							repositories. It provides a clear, navigable structure to any
							given repository, presenting its contents in a readable and
							accessible markdown format. The application features a
							user-friendly interface with functionalities to view raw markdown,
							preview the markdown rendering, and download the content as an
							INDEX.MD file or simply copy it.
						</p>
					</div>
				</div>
			</div>
		</section>

		<section id="faq-section" class="bg-white">
			<div class="container">
				<h2 class="text-center">FAQs</h2>
				<hr class="my-4" />
				<div id="accordion">
					<!-- FAQs will be loaded here by JavaScript -->
				  </div>
			</div>
		</section>

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.7.0/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/showdown@1.9.1/dist/showdown.min.js"></script>
		<script src="{{ url_for('static', filename='js/script.js') }}""></script>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.7.0/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<footer class="bg-light text-center text-lg-start mt-4 footer">
			<div
				class="text-center p-3"
				style="background-color: rgba(140, 140, 140, 0.2)"
			>
				<a
					href="https://github.com/aimanfatima/hyperlinked-index-md-generator/blob/main/LICENSE"
					target="_blank"
					>GPL-3.0 license</a
				>
				|
				<a href="https://github.com/aimanfatima/ds-algo" target="_blank"
					><i class="fab fa-github"></i> GitHub</a
				>
				| Made with ❤︎ by
				<a href="https://github.com/aimanfatima" target="_blank">Aiman</a>
			</div>
		</footer>
	</body>
</html>
